# 设置模块 (Settings)

## 功能概述

设置模块提供用户个人设置和应用配置功能，包括密码修改、个人资料管理、统计信息展示等。

## 实现方式

### 技术栈

- **React Hook Form**: 表单处理
- **Zod**: 表单验证
- **React Query**: 数据获取和更新
- **bcryptjs**: 密码加密

### 核心功能

1. **密码修改**: 安全的密码更新流程
2. **个人资料**: 姓名、头像等信息管理
3. **统计信息**: 笔记数量、字数统计等
4. **偏好设置**: 主题、语言等应用设置

## 重要文件

### 核心组件

- `components/settings/password-form.tsx`: 密码修改表单
- `components/settings/profile-form.tsx`: 个人资料表单
- `components/settings/stats-cards.tsx`: 统计信息卡片

### 页面文件

- `app/(main)/settings/page.tsx`: 设置页面

### API 路由

- `app/api/user/route.ts`: 用户信息管理 API

## 亮点

1. **安全性**: 密码修改需要当前密码验证
2. **用户体验**: 实时表单验证和错误提示
3. **数据完整性**: 服务端严格的数据验证

## 注意事项和坑

1. **密码安全**: 需要确保密码加密和验证的安全性
2. **会话管理**: 密码修改后需要处理会话更新
3. **数据验证**: 前后端验证规则需要保持一致
